ie-sdk > 
   mvn clean install -Dall -DdownloadSources=true  -DdownloadJavadocs=true -Pdao.xstream,intersection,setting -Dmaven.test.skip=true -U

   

Prepare the tables
==================
DROP TABLE STATISTICAL_TABLE;
CREATE TABLE "FIGIS_GIS"."STATISTICAL_TABLE"
  (
    "FID"             NUMBER(*,0),
    "INTERSECTION_ID" VARCHAR2(255 BYTE),
    "SRCODE"          VARCHAR2(255 BYTE),
    "TRGCODE"         VARCHAR2(255 BYTE),
    "SRCLAYER"        VARCHAR2(255 BYTE),
    "TRGLAYER"        VARCHAR2(255 BYTE),
    "SRCAREA"         VARCHAR2(255 BYTE),
    "TRGAREA"         VARCHAR2(255 BYTE),
    "SRCOVLPCT"       VARCHAR2(255 BYTE),
    "TRGOVLPCT"       VARCHAR2(255 BYTE),
    "SRCCODENAME"     VARCHAR2(255 BYTE),
    "TRGCODENAME"     VARCHAR2(255 BYTE),
    PRIMARY KEY ("FID") USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645 PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT) TABLESPACE "FI_DEV_TABGEN" ENABLE
  )
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 NOCOMPRESS LOGGING STORAGE
  (
    INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645 PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT
  )
  TABLESPACE "FI_DEV_TABGEN" ;
  
DROP TABLE STATISTICAL_TMP_TABLE;
CREATE TABLE "FIGIS_GIS"."STATISTICAL_TMP_TABLE"
  (
    "FID"             NUMBER(*,0),
    "INTERSECTION_ID" VARCHAR2(255 BYTE),
    "SRCODE"          VARCHAR2(255 BYTE),
    "TRGCODE"         VARCHAR2(255 BYTE),
    "SRCLAYER"        VARCHAR2(255 BYTE),
    "TRGLAYER"        VARCHAR2(255 BYTE),
    "SRCAREA"         VARCHAR2(255 BYTE),
    "TRGAREA"         VARCHAR2(255 BYTE),
    "SRCOVLPCT"       VARCHAR2(255 BYTE),
    "TRGOVLPCT"       VARCHAR2(255 BYTE),
    "SRCCODENAME"     VARCHAR2(255 BYTE),
    "TRGCODENAME"     VARCHAR2(255 BYTE),
    PRIMARY KEY ("FID") USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645 PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT) TABLESPACE "FI_DEV_TABGEN" ENABLE
  )
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 NOCOMPRESS LOGGING STORAGE
  (
    INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645 PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT
  )
  TABLESPACE "FI_DEV_TABGEN" ;
  
DROP TABLE SPATIAL_TABLE;
CREATE TABLE "FIGIS_GIS"."SPATIAL_TABLE"
  (
    "FID" NUMBER(*,0),
    "THE_GEOM" "MDSYS"."SDO_GEOMETRY" ,
    "INTERSECTION_ID" VARCHAR2(255 BYTE),
    PRIMARY KEY ("FID") USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645 PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT) TABLESPACE "FI_DEV_TABGEN" ENABLE
  )
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 NOCOMPRESS LOGGING STORAGE
  (
    INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645 PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT
  )
  TABLESPACE "FI_DEV_TABGEN" ;
  
CREATE INDEX "FIGIS_GIS"."SPATIAL_TABLE_THE_GEOM_IDX" ON "FIGIS_GIS"."SPATIAL_TABLE"
  (
    "THE_GEOM"
  )
  INDEXTYPE IS "MDSYS"."SPATIAL_INDEX" ;
  
  
  
 DROP TABLE SPATIAL_TMP_TABLE;
CREATE TABLE "FIGIS_GIS"."SPATIAL_TMP_TABLE"
  (
    "FID" NUMBER(*,0),
    "THE_GEOM" "MDSYS"."SDO_GEOMETRY" ,
    "INTERSECTION_ID" VARCHAR2(255 BYTE),
    PRIMARY KEY ("FID") USING INDEX PCTFREE 10 INITRANS 2 MAXTRANS 255 COMPUTE STATISTICS STORAGE(INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645 PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT) TABLESPACE "FI_DEV_TABGEN" ENABLE
  )
  PCTFREE 10 PCTUSED 40 INITRANS 1 MAXTRANS 255 NOCOMPRESS LOGGING STORAGE
  (
    INITIAL 65536 NEXT 1048576 MINEXTENTS 1 MAXEXTENTS 2147483645 PCTINCREASE 0 FREELISTS 1 FREELIST GROUPS 1 BUFFER_POOL DEFAULT
  )
  TABLESPACE "FI_DEV_TABGEN" ;
CREATE INDEX "FIGIS_GIS"."SPATIAL_TMP_TABLE_THE_GEOM_IDX" ON "FIGIS_GIS"."SPATIAL_TMP_TABLE"
  (
    "THE_GEOM"
  )
  INDEXTYPE IS "MDSYS"."SPATIAL_INDEX" ;









-- SELECT * FROM MDSYS.SDO_GEOM_METADATA_TABLE;
SELECT * FROM USER_SDO_GEOM_METADATA;

--DELETE FROM USER_SDO_GEOM_METADATA WHERE sdo_table_name=upper('SPATIAL_TABLE');
DELETE FROM USER_SDO_GEOM_METADATA WHERE table_name=upper('SPATIAL_TABLE');
 COMMIT;

-- DELETE FROM USER_SDO_GEOM_METADATA WHERE sdo_table_name=upper('SPATIAL_TMP_TABLE');
DELETE FROM USER_SDO_GEOM_METADATA WHERE table_name=upper('SPATIAL_TMP_TABLE');
 COMMIT;
 


INSERT INTO USER_SDO_GEOM_METADATA VALUES (
     --'FIGIS_GIS',
     'SPATIAL_TABLE',
     'THE_GEOM',
     MDSYS.SDO_DIM_ARRAY(
         MDSYS.SDO_DIM_ELEMENT('X',-180,180,0.005),
         MDSYS.SDO_DIM_ELEMENT('Y',-90,90,0.005)
     ),
     4326
  );
 COMMIT;

INSERT INTO USER_SDO_GEOM_METADATA VALUES (
     --'FIGIS_GIS',
     'SPATIAL_TMP_TABLE',
     'THE_GEOM',
     MDSYS.SDO_DIM_ARRAY(
         MDSYS.SDO_DIM_ELEMENT('X',-180,180,0.005),
         MDSYS.SDO_DIM_ELEMENT('Y',-90,90,0.005)
     ),
     4326
  );
 COMMIT;
 
 DROP INDEX "FIGIS_GIS"."SPATIAL_TMP_TABLE_THE_GEOM_IDX";
 COMMIT;
 
 CREATE INDEX "FIGIS_GIS"."SPATIAL_TMP_TABLE_THE_GEOM_IDX" ON "FIGIS_GIS"."SPATIAL_TMP_TABLE" ("THE_GEOM") INDEXTYPE IS "MDSYS"."SPATIAL_INDEX" ;
 COMMIT;
 
 DROP INDEX "FIGIS_GIS"."SPATIAL_TABLE_THE_GEOM_IDX";
 COMMIT;
 
 CREATE INDEX "FIGIS_GIS"."SPATIAL_TABLE_THE_GEOM_IDX" ON "FIGIS_GIS"."SPATIAL_TABLE" ("THE_GEOM") INDEXTYPE IS "MDSYS"."SPATIAL_INDEX" ;
 COMMIT; 

 
GEOSERVER SQL_VIEW (IE_SPATIAL_STAT_DATA)
==================== ====================
SELECT STATISTICAL_TABLE.*,SPATIAL_TABLE.THE_GEOM FROM STATISTICAL_TABLE INNER JOIN SPATIAL_TABLE ON (STATISTICAL_TABLE.INTERSECTION_ID = SPATIAL_TABLE.INTERSECTION_ID)